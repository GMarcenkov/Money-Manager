(this["webpackJsonpbudget-tracker"]=this["webpackJsonpbudget-tracker"]||[]).push([[0],{123:function(e,t,n){},124:function(e,t,n){},132:function(e,t){},145:function(e,t,n){},15:function(e,t,n){e.exports={container:"LoginContainerStyle_container__3IJE0",login_form:"LoginContainerStyle_login_form__1xRDn",tab_list:"LoginContainerStyle_tab_list__3v1mE",tab:"LoginContainerStyle_tab__SBALO",selected_tab:"LoginContainerStyle_selected_tab__1ij4l",login_content:"LoginContainerStyle_login_content__3qEzj",input:"LoginContainerStyle_input__vWW6L",login_button:"LoginContainerStyle_login_button__Vi9LA",login_label:"LoginContainerStyle_login_label__1FwEj",social_container:"LoginContainerStyle_social_container__17UOV",social_icon:"LoginContainerStyle_social_icon__3rONY",error_msg:"LoginContainerStyle_error_msg__2qUjD"}},16:function(e,t,n){e.exports={content:"AddTransactionStyle_content__3HpPw",content_titles:"AddTransactionStyle_content_titles__bl1lw",title:"AddTransactionStyle_title__2x6Nm",amount_container:"AddTransactionStyle_amount_container__3vd_s",fees:"AddTransactionStyle_fees__3D2rL",input:"AddTransactionStyle_input__1Nz3d",description:"AddTransactionStyle_description__2e2is",buttons_content:"AddTransactionStyle_buttons_content__1IP5Z",save_button:"AddTransactionStyle_save_button__2SREW",delete_button:"AddTransactionStyle_delete_button__4HxLD",error_msg:"AddTransactionStyle_error_msg__1TtZP",tab_list:"AddTransactionStyle_tab_list__jp38j",tab:"AddTransactionStyle_tab__1-bS0",selected_tab:"AddTransactionStyle_selected_tab__1o-HN",close_button:"AddTransactionStyle_close_button__2HkcX",input_description:"AddTransactionStyle_input_description__3fXfN"}},22:function(e,t,n){e.exports={wrapper_sideBar:"SideBarStyle_wrapper_sideBar__1ZdZv",wrapper_sideBar_back:"SideBarStyle_wrapper_sideBar_back__3WgjW",sidebar_header:"SideBarStyle_sidebar_header__gEdI8",button_close_sidebar:"SideBarStyle_button_close_sidebar__8L_LY",button_open_sidebar:"SideBarStyle_button_open_sidebar__1xs5x",open_menu:"SideBarStyle_open_menu__2Wgbx",content:"SideBarStyle_content__1RP3J",title:"SideBarStyle_title__3yhWD",title_select:"SideBarStyle_title_select__1aoV-",menu_icon_container:"SideBarStyle_menu_icon_container__-V0aq",select_menu_icon:"SideBarStyle_select_menu_icon__3tzK3"}},270:function(e,t,n){"use strict";n.r(t);var a,c=n(0),s=n(1),r=n.n(s),o=n(28),i=n.n(o),l=(n(145),n(14)),d=n(6),u=n.n(d),j=n(12),b=n(7),O=n(3),m=n.n(O),_=n(130),p=n.n(_).a.create({baseURL:""}),x={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}},h=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.post("".concat("/transaction/create"),t,x));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.get("".concat("/transaction/specificDatePeriod","/").concat(m()(t).toISOString(),"/").concat(m()(n).toISOString()),x));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.post("".concat("/transaction/getYearlyOrWeekly"),t,x));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.put("".concat("/transaction/event/edit","/").concat(t,"/").concat(n),a,x));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(j.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.put("".concat("/transaction/event/delete","/").concat(t,"/").concat(n),{},x));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.get("".concat("/user/logged"),x));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.get("".concat("/moneyAccounts"),x));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!function(e){e.SIGN_IN="SIGN_IN",e.SIGN_UP="SIGN_UP",e.SAVE_USER="SAVE_USER",e.SET_ACCOUNTS="SET_ACCOUNTS",e.SET_ACCOUNT="SET_ACCOUNT"}(a||(a={}));var A,g,T,w,C,D=function(e){return{type:a.SIGN_IN,payload:e}},I=function(e){return{type:a.SAVE_USER,payload:e}},R=function(e){return{type:a.SET_ACCOUNTS,payload:e}},k=function(e){var t=e.children,n=Object(s.useState)(!0),a=Object(b.a)(n,2),r=a[0],o=a[1],i=Object(l.b)(),d=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:t=e.sent,(n=t.data).user?(i(I(n)),o(!1)):(localStorage.removeItem("jwt"),o(!1)),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),localStorage.removeItem("jwt"),o(!1),new Error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){d()})),r?Object(c.jsx)("div",{}):localStorage.getItem("jwt")||"/authentication"===window.location.pathname?Object(c.jsx)(c.Fragment,{children:t}):(window.location.pathname="/authentication",Object(c.jsx)("div",{}))},M=n(25),F=n(20),L=n(18),P=n(21),Y=n(43),H=n.n(Y),B={EMAIL:"Email",USERNAME:"Username",PASSWORD:"Password",CONFIRM_PASSWORD:"Confirm password",SIGN_UP:"Sign up",SIGN_IN:"Sign in",TRANSACTIONS:"Transactions",TRANSACTION:"Transaction",STATS:"Stats",EXPORT:"Export",ACCOUNT:"Account",ACCOUNTS:"Accounts",DAILY:"Daily",WEEKLY:"Weekly",MONTHLY:"Monthly",YEARLY:"Yearly",PERIOD:"Period",SETTINGS:"Settings",PROFILE:"Profile",EXIT:"Exit",PLEASE_SELECT_AN_ACCOUNT:"Please select an account",PLEASE_SELECT_FROM:"Please select from",PLEASE_SELECT_A_CATEGORY:"Please select a category",PLEASE_SELECT_TO:"Please select to",PLEASE_ADD_AN_AMOUNT:"Please add an amount",THE_AMOUNT_IS_TOO_MUCH:"The balance of ",FEES_CAN_NOT_BE_GREATER:"Fees can't be greater then amount",PLEASE_ENTER_VALID_EMAIL:"Please enter a valid email.",PLEASE_ENTER_VALID_USERNAME:"Please enter a valid username.",NO_MATCHING_PASSWORDS:"The password does not match. ",PLEASE_ENTER_VALID_PASSWORD:"Please enter 6-20 characters [A-Z, a-z, 0-9 only].",NO_DATA_AVAILABLE:"No data available. "},U=function(){return Object(c.jsx)("div",{className:"dropdown-menu ".concat(H.a.dropdown_content),"aria-labelledby":"dropdownMenuButton1",children:Object(c.jsxs)("a",{type:"button",href:"/",onClick:function(){localStorage.removeItem("jwt"),window.location.pathname="/authentication"},children:[Object(c.jsx)(L.a,{icon:P.k}),Object(c.jsx)("div",{children:B.EXIT})]})})};!function(e){e.TRANSFER="transfer",e.INCOME="income",e.EXPENSE="expense",e.CURRENCY="BGN"}(A||(A={})),function(e){e.TRANSACTION="transaction",e.STATS="stats",e.EXPORT="export",e.ACCOUNTS="accounts"}(g||(g={})),function(e){e.FROM="from",e.TO="to",e.CATEGORY="category",e.ACCOUNT="account"}(T||(T={})),function(e){e.MONDAY="M",e.THUESDAY="T",e.WEDNESDAY="W",e.THURSDAY="Th",e.FRIDAY="F",e.SATURDAY="Sa",e.SUNDAY="Su"}(w||(w={})),function(e){e.DATE="date",e.WEEK="week",e.MONTH="month",e.YEAR="year",e.DAYS="days",e.DAY="day",e.ISO_WEEK="isoWeek"}(C||(C={}));var W,V=function(e){return e.toLowerCase()===A.TRANSFER},G=function(e){return e.includes(g.TRANSACTION)},X=function(e,t){return e==="/transaction/".concat(t)||e==="/stats/".concat(t)},K=function(e,t){return e===A.INCOME?(t/100).toFixed(2):"0.00"},z=function(e,t){return e===A.EXPENSE||e===A.TRANSFER?(t/100).toFixed(2):"0.00"},Z=function(e){switch(!0){case e.includes("/transaction"):return B.TRANSACTIONS.toLocaleUpperCase();case e.includes("/stats"):return B.STATS.toLocaleUpperCase();case e.includes("/export"):return B.EXPORT.toLocaleUpperCase();case e.includes("/accounts"):return B.ACCOUNT.toLocaleUpperCase();default:return""}},J=function(e){var t=e.type,n=e.transferId,a=e.date,c=e.account,s=e.category,r=e.from,o=e.fees,i=e.to,l=e.amount,d=e.note,u=e.description;return{events:[{type:t.toLowerCase(),currency:A.CURRENCY,transferId:n,date:m()(a),account:V(t)?"":c,category:V(t)?"":s,from:V(t)?r:"",fees:o?100*parseFloat(o):0,to:V(t)?i:"",amount:100*parseFloat(l),note:d,description:u}],createdAt:m()(e.date).startOf(C.DATE)}},q=n(276),Q=(Object(q.a)((function(e){return e}),(function(e){return e.userReducer.user})),Object(q.a)((function(e){return e}),(function(e){return e.userReducer.user.email})),Object(q.a)((function(e){return e}),(function(e){return e.userReducer.user.username}))),$=Object(q.a)((function(e){return e}),(function(e){return e.userReducer.user.accounts[0]})),ee=(Object(q.a)((function(e){return e}),(function(e){return e.userReducer.incomeCategories})),Object(q.a)((function(e){return e}),(function(e){return e.userReducer.expenseCategories})),function(){var e=Object(l.c)(Q);return Object(c.jsx)("nav",{className:"pe-3  ".concat(H.a.container),children:Object(c.jsxs)("div",{className:"navbar navbar-expand-lg row justify-content-center align-items-center",children:[Object(c.jsx)("div",{className:"col"}),Object(c.jsx)("div",{className:"col text-center",children:Object(c.jsx)("div",{className:"collapse navbar-collapse ".concat(H.a.page_title),children:"/"===window.location.pathname?"Budget-Tracker":Z(window.location.pathname)})}),Object(c.jsx)("div",{className:"col d-flex justify-content-end align-items-center",children:Object(c.jsxs)("div",{className:"dropdown","data-bs-toggle":"tooltip","data-bs-placement":"left",title:e,children:[Object(c.jsxs)("div",{role:"button",className:"dropdown-toggl ".concat(H.a.user_content),id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(c.jsx)(L.a,{icon:P.m}),Object(c.jsx)("div",{className:H.a.user_email,children:e}),Object(c.jsx)("div",{className:H.a.caret_down,children:Object(c.jsx)(L.a,{icon:P.c})})]}),Object(c.jsx)(U,{})]})})]})})}),te=n(22),ne=n.n(te),ae=function(){var e=Object(s.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useCallback)((function(){a(!n)}),[n]),o=Object(F.g)();return Object(c.jsx)("nav",{className:n?ne.a.wrapper_sideBar:ne.a.wrapper_sideBar_back,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:ne.a.sidebar_header,children:n?"Budget-Tracker":"BT"}),Object(c.jsx)("ul",{className:ne.a.content,children:n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(M.b,{to:"/",className:"/"===o.pathname?ne.a.title_select:ne.a.title,children:[Object(c.jsx)(L.a,{icon:P.j})," ",B.ACCOUNTS]}),Object(c.jsxs)(M.b,{to:"/transaction/monthly",className:o.pathname.includes(g.TRANSACTION)?ne.a.title_select:ne.a.title,children:[Object(c.jsx)(L.a,{icon:P.a})," ",B.TRANSACTIONS]}),Object(c.jsxs)(M.b,{to:"/stats/monthly",className:o.pathname.includes(g.STATS)?ne.a.title_select:ne.a.title,children:[Object(c.jsx)(L.a,{icon:P.f})," ",B.STATS]}),Object(c.jsxs)(M.b,{to:"/export",className:o.pathname.includes(g.EXPORT)?ne.a.title_select:ne.a.title,children:[Object(c.jsx)(L.a,{icon:P.i})," ",B.EXPORT]})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(M.b,{to:"/",className:"/"===o.pathname?ne.a.select_menu_icon:ne.a.menu_icon_container,children:Object(c.jsx)(L.a,{icon:P.j})}),Object(c.jsx)(M.b,{to:"/transaction/monthly",className:o.pathname.includes(g.TRANSACTION)?ne.a.select_menu_icon:ne.a.menu_icon_container,children:Object(c.jsx)(L.a,{icon:P.a})}),Object(c.jsx)(M.b,{to:"/stats/monthly",className:o.pathname.includes(g.STATS)?ne.a.select_menu_icon:ne.a.menu_icon_container,children:Object(c.jsx)(L.a,{icon:P.f})})," ",Object(c.jsx)(M.b,{to:"/export",className:o.pathname.includes(g.EXPORT)?ne.a.select_menu_icon:ne.a.menu_icon_container,children:Object(c.jsx)(L.a,{icon:P.i})})," "]})}),Object(c.jsx)("div",{className:n?ne.a.button_open_sidebar:ne.a.button_close_sidebar,children:Object(c.jsx)(L.a,{icon:n?P.g:P.h,onClick:r})})]})})};!function(e){e.HANDLE_NEXT_WEEK="HANDLE_NEXT_WEEK",e.HANDLE_PREVIOUS_WEEK="HANDLE_PREVIOUS_WEEK",e.HANDLE_NEXT_MONTH="HANDLE_NEXT_MONTH",e.HANDLE_PREVIOUS_MONTH="HANDLE_PREVIOUS_MONTH",e.HANDLE_NEXT_YEAR="HANDLE_NEXT_YEAR",e.HANDLE_PREVIOUS_YEAR="HANDLE_PREVIOUS_YEAR",e.TRANSACTION_INPUT_CHANGE="TRANSACTION_INPUT_CHANGE",e.SET_TRANSACTION="SET_TRANSACTION",e.SET_DATE="SET_DATE",e.SET_IS_TRANSACTION_OPEN="SET_IS_TRANSACTION_OPEN"}(W||(W={}));var ce=function(e){return{type:W.TRANSACTION_INPUT_CHANGE,payload:{name:e.target.name,value:e.target.value}}},se=function(e){return{type:W.SET_TRANSACTION,payload:e}},re=function(e){return{type:W.SET_DATE,payload:e}},oe=function(){return{type:W.SET_IS_TRANSACTION_OPEN}},ie=n(27),le=n(136),de=n(16),ue=n.n(de),je=n(54),be=n.n(je),Oe=function(e){var t=e.handleInputChange,n=e.options,a=e.transactionType,s=e.selectValue;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("select",{className:ue.a.input,value:s,onChange:t,name:a,children:n.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})})},me=function(e){var t=e.handleInputChange,n=e.setIsFeesOpen,a=e.transaction,r=e.isFeesOpen,o=Object(s.useCallback)((function(){t({target:{value:"0",name:"fees"}}),n(!r)}),[t,r,n]);return Object(c.jsx)(c.Fragment,{children:r?Object(c.jsx)("div",{className:ue.a.input_container,children:Object(c.jsxs)("div",{className:ue.a.amount_container,children:[Object(c.jsx)("input",{type:"text",className:ue.a.input,name:"fees",value:a.fees,onChange:t}),Object(c.jsx)("button",{type:"button",className:ue.a.fees,onClick:o,children:"X"})]})}):null})},_e=function(e){var t=e.handleInputChange,n=e.setIsFeesOpen,a=e.transaction,r=e.isFeesOpen,o=Object(s.useCallback)((function(){n(!r)}),[r,n]);return Object(c.jsxs)("div",{className:ue.a.amount_container,children:[Object(c.jsx)("input",{type:"number",name:"amount",className:ue.a.input,value:a.amount,onChange:t}),a.type!==A.TRANSFER||r?null:Object(c.jsx)("button",{type:"button",className:ue.a.fees,onClick:o,children:"Fees"})]})},pe=(n(172),function(e,t){var n={account:"",from:"",category:"",to:"",amount:"",fees:""},a=e.account,c=e.type,s=e.category,r=e.to,o=e.from,i=e.fees,l=e.amount,d=(e._id,Object.keys(t.accounts)),u=Object.values(t.accounts);if("income"!==c&&i){var j=100*(parseFloat(l)+parseFloat(i));d.forEach((function(e,t){j>u[t]&&(a||o)===e&&(n.amount="".concat(B.THE_AMOUNT_IS_TOO_MUCH," ").concat(null===e||void 0===e?void 0:e.toLocaleUpperCase()," is ").concat((u[t]/100).toFixed(2)," BGN."))}))}return a||c===A.TRANSFER||(n.account=B.PLEASE_SELECT_AN_ACCOUNT),s||c===A.TRANSFER||(n.category=B.PLEASE_SELECT_A_CATEGORY),c!==A.TRANSFER||r||(n.to=B.PLEASE_SELECT_TO),c!==A.TRANSFER||o||(n.from=B.PLEASE_SELECT_FROM),(!l||parseFloat(l)<=0||"0"===l.charAt(0)&&"."!==l.charAt(1))&&(n.amount=B.PLEASE_ADD_AN_AMOUNT),i&&(parseFloat(i)>parseFloat(l)||parseFloat(l)<0)&&(n.fees=B.FEES_CAN_NOT_BE_GREATER),n}),xe=function(e,t){var n=RegExp("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"),a={email:"",username:"",password:"",confirmPassword:""},c=e.email,s=e.password,r=e.confirmPassword,o=e.username;return n.test(c)||(a.email=B.PLEASE_ENTER_VALID_EMAIL),o.length<6&&!t&&(a.username=B.PLEASE_ENTER_VALID_USERNAME),s===r||t||(a.confirmPassword=B.NO_MATCHING_PASSWORDS),(!s.match(/^[0-9a-zA-Z]+$/)||s.length>20||s.length<6)&&(a.password=B.PLEASE_ENTER_VALID_PASSWORD),a},he=function(e){return Object(c.jsx)(c.Fragment,{children:e&&Object(c.jsx)("div",{className:"col-8  ".concat(ue.a.error_msg," "),children:e})})},fe=function(e){var t,n=e.transaction,a=e.handleInputChange,o=e.errors,i=Object(s.useState)(!1),l=Object(b.a)(i,2),d=l[0],u=l[1],j=["","cash","card","accounts"],O=["","salary","bonus","petty cash","other"],_=["","food","culture","socialLife","selfDevelopment","transportation","other"],p=Object(s.useCallback)((function(e){a({target:{value:m()(e).toDate(),name:"date"}})}),[a]),x=Object(s.forwardRef)((function(e,t){var n=e.value,a=e.onClick;return Object(c.jsx)("div",{className:" align-items-center ",children:Object(c.jsx)("button",{type:"button",onClick:a,className:ue.a.input,ref:t,children:n})})}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"row  align-items-center justify-content-center mb-2",children:[Object(c.jsx)("div",{className:"col-3 align-items-start ".concat(ue.a.title),children:"Day"}),Object(c.jsx)("div",{className:"col-8 ",children:Object(c.jsx)(be.a,{selected:m()(n.date).toDate(),dateFormat:" dd / MMMM / yyyy  h:mm aa",onChange:p,showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,timeCaption:"time",customInput:r.a.createElement(x)})})]}),Object(c.jsxs)("div",{className:"row  align-items-center justify-content-center mb-2",children:[Object(c.jsx)("div",{className:"col-3 ".concat(ue.a.title),children:n.type===A.TRANSFER?"From":"Account"}),Object(c.jsxs)("div",{className:"col-8",children:[" ",Object(c.jsx)(Oe,{selectValue:n.type===A.TRANSFER?n.from:n.account,transactionType:n.type===A.TRANSFER?T.FROM:T.ACCOUNT,options:j,handleInputChange:a})]}),Object(c.jsx)("div",{className:"col-3"}),he(n.type===A.TRANSFER?o.from:o.account)]}),Object(c.jsxs)("div",{className:"row  align-items-center justify-content-center mb-2",children:[Object(c.jsxs)("div",{className:"col-3 ".concat(ue.a.title),children:[" ",n.type===A.TRANSFER?"To":"Category"]}),Object(c.jsxs)("div",{className:"col-8",children:[" ",Object(c.jsx)(Oe,{selectValue:n.type===A.TRANSFER?n.to:n.category,transactionType:n.type===A.TRANSFER?T.TO:T.CATEGORY,options:(t=n.type,t===A.TRANSFER?""===n.from&&""===n.to?j:j.filter((function(e){return e!==n.from})):t===A.INCOME?O:_),handleInputChange:a})]}),Object(c.jsx)("div",{className:"col-3"}),he(n.type===A.TRANSFER?o.to:o.category)]}),Object(c.jsxs)("div",{className:"row  align-items-center justify-content-center mb-2",children:[Object(c.jsx)("div",{className:"col-3 ".concat(ue.a.title),children:"Amount"}),Object(c.jsxs)("div",{className:"col-8",children:[" ",Object(c.jsx)(_e,{transaction:n,handleInputChange:a,setIsFeesOpen:u,isFeesOpen:d})]}),Object(c.jsx)("div",{className:"col-3"}),he(o.amount)]}),d?Object(c.jsxs)("div",{className:"row  align-items-center justify-content-center mb-2",children:[Object(c.jsx)("div",{className:"col-3 ".concat(ue.a.title),children:"Fees"}),Object(c.jsxs)("div",{className:"col-8",children:[" ",Object(c.jsx)(me,{transaction:n,handleInputChange:a,setIsFeesOpen:u,isFeesOpen:d})]}),Object(c.jsx)("div",{className:"col-3"}),he(o.fees)]}):null,Object(c.jsxs)("div",{className:"row  align-items-center justify-content-center mb-2",children:[Object(c.jsx)("div",{className:"col-3 ".concat(ue.a.title),children:"Note"}),Object(c.jsx)("div",{className:"col-8",children:Object(c.jsx)("input",{type:"text",className:ue.a.input,name:"note",value:n.note,onChange:a})})]})]})},Ne=function(e){var t=e.transactionEvent,n=e.handleInputChange,a=e.errors,r=e.handleSave,o=e.handleOpenTransaction,i=e.isEditTransactionOpen,d=e.handleOpenEdit,b=e.handleDelete,O=Object(l.b)(),_=Object(l.c)($),p=Object(s.useCallback)(Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:n=e.sent,O(R(n.data)),i?d(t):o(m()().toDate());case 5:case"end":return e.stop()}}),e)}))),[d,o,i,t]),x=Object(s.useCallback)((function(){n({target:{value:A.INCOME,name:"type"}})}),[n]),h=Object(s.useCallback)((function(){n({target:{value:A.EXPENSE,name:"type"}})}),[n]),f=Object(s.useCallback)((function(){n({target:{value:A.TRANSFER,name:"type"}})}),[n]),N=Object(s.useCallback)((function(){var e=t._id;b(e)}),[b,t]),v=function(){O(oe()),p()};Object(s.useEffect)((function(){new le.a("#RealBootstrapModal").show();var e=document.getElementById("RealBootstrapModal");return null===e||void 0===e||e.addEventListener("hidden.bs.modal",v),function(){null===e||void 0===e||e.removeEventListener("hidden.bs.modal",v)}}),[]);var S=pe(t,_),y=Object.values(S).filter(Boolean).length<=0;return Object(c.jsx)("div",{className:"modal fade",id:"RealBootstrapModal",tabIndex:-1,"aria-labelledby":"staticBackdropLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsx)("div",{className:"modal-header justify-content-center",children:Object(c.jsx)(L.a,{className:ue.a.close_button,"data-bs-dismiss":"modal","aria-label":"Close",onClick:p,icon:P.l})}),Object(c.jsxs)("div",{className:"modal-body justify-content-center ",children:[Object(c.jsxs)(ie.d,{selectedTabClassName:ue.a.selected_tab,selectedIndex:function(e){switch(e){case A.INCOME:return 0;case A.EXPENSE:return 1;case A.TRANSFER:return 2;default:return 0}}(t.type),children:[Object(c.jsxs)(ie.b,{className:"row p-0 justify-content-evenly",children:[Object(c.jsx)(ie.a,{className:"col-3  ".concat(ue.a.tab),onClick:x,children:"Income"}),Object(c.jsx)(ie.a,{className:"col-3 ".concat(ue.a.tab),onClick:h,children:"Expense"}),Object(c.jsx)(ie.a,{className:"col-3 ".concat(ue.a.tab),onClick:f,children:"Transfer"})]}),Object(c.jsx)(ie.c,{children:Object(c.jsx)(fe,{transaction:t,handleInputChange:n,errors:a})}),Object(c.jsx)(ie.c,{children:Object(c.jsx)(fe,{transaction:t,handleInputChange:n,errors:a})}),Object(c.jsx)(ie.c,{children:Object(c.jsx)(fe,{transaction:t,handleInputChange:n,errors:a})})]}),Object(c.jsx)("textarea",{className:ue.a.input_description,placeholder:"Description",name:"description",value:t.description,onChange:n})]}),Object(c.jsx)("div",{className:"modal-footer justify-content-center ".concat(ue.a.input_description),children:i?Object(c.jsxs)("div",{className:"row ".concat(ue.a.buttons_content),children:[Object(c.jsx)("div",{className:"col",children:Object(c.jsx)("button",{type:"button",className:ue.a.save_button,"data-bs-dismiss":y?"modal":"",onClick:r,children:"Save"})}),Object(c.jsxs)("div",{className:"col",children:[" ",Object(c.jsx)("button",{type:"button",className:ue.a.delete_button,"data-bs-dismiss":"modal",onClick:N,children:"Delete"})]})]}):Object(c.jsx)("div",{className:ue.a.buttons_content,children:Object(c.jsx)("button",{type:"button",className:ue.a.save_button,"data-bs-dismiss":y?"modal":"",onClick:r,children:"Save"})})})]})})})},ve=(n(123),Object(q.a)((function(e){return e}),(function(e){return e.transactionReducer}))),Se=Object(q.a)((function(e){return e}),(function(e){return e.transactionReducer.date})),ye=(Object(q.a)((function(e){return e}),(function(e){var t=e.transactionReducer;return t.transactionEvent.from,t.transactionEvent.from})),function(){var e=Object(s.useState)({account:"",from:"",category:"",to:"",amount:"",fees:""}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(l.b)(),o=Object(l.c)(ve),i=Object(l.c)($),d=o.transactionEvent,O=d.transactionId,_=d._id,p=function(){a({account:"",from:"",category:"",to:"",amount:"",fees:""}),r(se({_id:"",type:A.INCOME,date:m()().toDate(),account:"",from:"",category:"",fees:"0",to:"",amount:"0",note:"",description:"",transactionId:""}))},x=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=pe(o.transactionEvent,i),Object.values(t).filter(Boolean).length<=0){e.next=5;break}return a(t),e.abrupt("return");case 5:if(n=J(o.transactionEvent),!O){e.next=11;break}return e.next=9,v(O,_,n.events[0]);case 9:e.next=13;break;case 11:return e.next=13,h(n);case 13:return e.next=15,E();case 15:c=e.sent,r(R(c.data)),p();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(O,t);case 2:return e.next=4,E();case 4:n=e.sent,r(R(n.data)),p();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){o.isTransactionOpen?p():(r(oe()),r(ce({target:{name:C.DATE,value:o.date}})))},y=o.isTransactionOpen;return Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{type:"button",className:"btn add_button navBarBtn ml-2",onClick:N,children:"Add Transaction"}),(y||O.length)>0&&Object(c.jsx)(Ne,{transactionEvent:o.transactionEvent,errors:n,isEditTransactionOpen:O.length>0,handleInputChange:function(e){return r(ce(e))},handleSave:x,handleOpenTransaction:N,handleOpenEdit:p,handleDelete:f})]})}),Ee=n(67),Ae=n.n(Ee),ge=function(){var e=Object(l.c)($).accounts,t=Object.keys(e),n=Object.values(e);return Object(c.jsxs)("div",{className:"wrapper ",children:[Object(c.jsx)("div",{className:" row  justify-content-end mb-3 mt-3 ",children:Object(c.jsx)("div",{className:"col-lg-5 col-sm-12 mt-sm-2 d-flex justify-content-end",children:Object(c.jsx)(ye,{})})}),Object(c.jsx)("div",{className:Ae.a.title,children:"Accounts"}),Object(c.jsx)("div",{className:" row row-cols-xl-4 row-cols-lg-3 row-cols-sm-2",children:n.map((function(e,n){return Object(c.jsx)("div",{className:"mt-4",children:Object(c.jsxs)("div",{className:"".concat(Ae.a.account_container," "),children:[Object(c.jsx)("div",{className:" ".concat(Ae.a.name),children:t[n].toUpperCase()}),Object(c.jsxs)("div",{className:"text-end",children:[(e/100).toFixed(2)," BGN"]})]})},t[n])}))})]})},Te=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(ge,{})]})]})},we=n(26),Ce=n(2),De=n(15),Ie=n.n(De),Re=function(e){var t=e.Submit,n=e.errors,a=e.handleInput;return Object(c.jsxs)("div",{className:Ie.a.login_content,children:[Object(c.jsxs)("label",{htmlFor:"Email",className:Ie.a.login_label,children:[B.EMAIL,Object(c.jsx)("input",{className:Ie.a.input,name:"email",onChange:a})]}),n.email&&Object(c.jsx)("div",{className:Ie.a.error_msg,children:Object(c.jsx)("span",{children:n.email})}),Object(c.jsxs)("label",{htmlFor:"Password",className:Ie.a.login_label,children:[B.PASSWORD,Object(c.jsx)("input",{type:"password",className:Ie.a.input,name:"password",onChange:a})]}),n.password&&Object(c.jsx)("div",{className:Ie.a.error_msg,children:Object(c.jsx)("span",{children:n.password})}),Object(c.jsx)("button",{type:"button",className:Ie.a.login_button,onClick:t,children:B.SIGN_IN})]})},ke=function(e){var t=e.Submit,n=e.errors,a=e.handleInput;return Object(c.jsxs)("div",{className:Ie.a.login_content,children:[Object(c.jsxs)("label",{htmlFor:"Username",className:Ie.a.login_label,children:[B.USERNAME,Object(c.jsx)("input",{className:Ie.a.input,name:"username",onChange:a})]}),n.username&&Object(c.jsx)("div",{className:Ie.a.error_msg,children:Object(c.jsx)("span",{children:n.username})}),Object(c.jsxs)("label",{htmlFor:"Email",className:Ie.a.login_label,children:[B.EMAIL,Object(c.jsx)("input",{className:Ie.a.input,name:"email",onChange:a})]}),n.email&&Object(c.jsx)("div",{className:Ie.a.error_msg,children:Object(c.jsx)("span",{children:n.email})}),Object(c.jsxs)("label",{htmlFor:"Password",className:Ie.a.login_label,children:[B.PASSWORD,Object(c.jsx)("input",{type:"password",className:Ie.a.input,name:"password",onChange:a})]}),n.password&&Object(c.jsx)("div",{className:Ie.a.error_msg,children:Object(c.jsx)("span",{children:n.password})}),Object(c.jsxs)("label",{htmlFor:"Confirm password",className:Ie.a.login_label,children:[B.CONFIRM_PASSWORD," ",Object(c.jsx)("input",{type:"password",className:Ie.a.input,name:"confirmPassword",onChange:a})]}),n.confirmPassword&&Object(c.jsx)("div",{className:Ie.a.error_msg,children:Object(c.jsx)("span",{children:n.confirmPassword})}),Object(c.jsx)("button",{type:"button",className:Ie.a.login_button,onClick:t,children:B.SIGN_UP})]})},Me=n(56),Fe=function(){return Object(c.jsxs)("div",{className:Ie.a.social_container,children:[Object(c.jsx)(L.a,{className:Ie.a.social_icon,icon:Me.b}),Object(c.jsx)(L.a,{className:Ie.a.social_icon,icon:Me.c}),Object(c.jsx)(L.a,{className:Ie.a.social_icon,icon:Me.d}),Object(c.jsx)(L.a,{className:Ie.a.social_icon,icon:Me.a})]})},Le=function(){var e=Object(s.useState)({email:"",username:"",password:"",confirmPassword:""}),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),o=Object(b.a)(r,2),i=o[0],d=o[1],O=Object(s.useState)({email:"",username:"",password:"",confirmPassword:""}),m=Object(b.a)(O,2),_=m[0],x=m[1],h=Object(l.b)(),f=function(e){a(Object(Ce.a)(Object(Ce.a)({},n),{},Object(we.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xe(n,i),Object.values(t).filter(Boolean).length<=0){e.next=5;break}return x({email:t.email,username:t.username,password:t.password,confirmPassword:t.confirmPassword}),e.abrupt("return");case 5:return localStorage.removeItem("jwt"),e.next=8,p.post("".concat("/signIn"),n);case 8:(a=e.sent).data.user?(h(D(a.data)),window.location.pathname="/",x({email:"",password:"",confirmPassword:"",username:""})):x({email:"",username:"",password:a.data.errorMSG,confirmPassword:""});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xe(n,i),Object.values(t).filter(Boolean).length<=0){e.next=5;break}return x({email:t.email,username:t.username,password:t.password,confirmPassword:t.confirmPassword}),e.abrupt("return");case 5:return localStorage.removeItem("jwt"),a={username:n.username,email:n.email,password:n.password,type:"user",currency:"BGN"},e.prev=7,e.next=10,p.post("".concat("/signUp"),a);case 10:(c=e.sent).data.user&&(h(I(c.data)),window.location.pathname="/",x({email:"",password:"",confirmPassword:"",username:""})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(){return e.apply(this,arguments)}}(),S=Object(s.useCallback)((function(e){return function(){a({email:"",password:"",confirmPassword:"",username:""}),x({email:"",password:"",confirmPassword:"",username:""}),d(e)}}),[]);return Object(c.jsx)("div",{className:Ie.a.container,children:Object(c.jsxs)("div",{className:Ie.a.login_form,children:[Object(c.jsxs)(ie.d,{selectedTabClassName:Ie.a.selected_tab,children:[Object(c.jsxs)(ie.b,{className:Ie.a.tab_list,children:[Object(c.jsx)(ie.a,{className:Ie.a.tab,onClick:S(!0),children:"Sign In"}),Object(c.jsx)(ie.a,{className:Ie.a.tab,onClick:S(!1),children:"Sign Up"})]}),Object(c.jsx)(ie.c,{children:Object(c.jsx)(Re,{Submit:N,errors:_,handleInput:f})}),Object(c.jsx)(ie.c,{children:Object(c.jsx)(ke,{Submit:v,errors:_,handleInput:f})})]}),Object(c.jsx)(Fe,{})]})})},Pe=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Le,{})})},Ye=function(){var e=Object(l.b)(),t=Object(F.g)(),n=Object(l.c)((function(e){return e.transactionReducer.date})),a=Object(s.useCallback)((function(){return X(t.pathname,"yearly")?e({type:W.HANDLE_PREVIOUS_YEAR}):"/stats/weekly"===t.pathname?e({type:W.HANDLE_NEXT_WEEK}):e({type:W.HANDLE_PREVIOUS_MONTH})}),[e,t.pathname]),r=Object(s.useCallback)((function(){return X(t.pathname,"yearly")?e({type:W.HANDLE_NEXT_YEAR}):"/stats/weekly"===t.pathname?e({type:W.HANDLE_PREVIOUS_WEEK}):e({type:W.HANDLE_NEXT_MONTH})}),[e,t.pathname]);return Object(c.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(c.jsx)("button",{className:"btn navBarBtn mr-2 ",type:"button",onClick:a,children:Object(c.jsx)(L.a,{icon:P.d})}),Object(c.jsxs)("div",{className:"date",children:["/stats/weekly"===t.pathname&&"".concat(m()(n).set("day",1).format("DD.MM")," - ").concat(m()(n).set("day",7).format("DD.MM")),X(t.pathname,"yearly")&&m()(n).format("YYYY"),"/stats/weekly"!==t.pathname&&!X(t.pathname,"yearly")&&m()(n).format("MMM YYYY")]}),Object(c.jsx)("button",{className:"btn navBarBtn ml-2",type:"button",onClick:r,children:Object(c.jsx)(L.a,{icon:P.e})})]})},He=function(){var e=Object(F.g)();return Object(c.jsxs)("div",{className:"row  mb-3 mt-3 ",children:[Object(c.jsx)("div",{className:"col-lg-5 pe-lg-5 col-sm-12",children:Object(c.jsxs)("div",{className:"row   row-cols-xl-5 row-cols-lg-12 align-items-center",children:[e.pathname.includes("transaction")?Object(c.jsx)(M.b,{to:"/transaction/daily",className:"m-1 btn ".concat(X(e.pathname,"daily")?"navBarBtnActive":"navBarBtn"),children:B.DAILY}):null,Object(c.jsx)(M.b,{to:G(e.pathname)?"/transaction/weekly":"/stats/weekly",className:"m-1 btn ".concat(X(e.pathname,"weekly")?"navBarBtnActive":"navBarBtn"),children:B.WEEKLY}),Object(c.jsx)(M.b,{to:G(e.pathname)?"/transaction/monthly":"/stats/monthly",className:"m-1 btn ".concat(X(e.pathname,"monthly")?"navBarBtnActive":"navBarBtn"),children:B.MONTHLY})," ",Object(c.jsx)(M.b,{to:G(e.pathname)?"/transaction/yearly":"/stats/yearly",className:" m-1 btn ".concat(X(e.pathname,"yearly")?"navBarBtnActive":"navBarBtn"),children:B.YEARLY})]})}),Object(c.jsx)("div",{className:"col-lg-2 col-sm-12 mt-sm-2 d-flex text-center justify-content-center align-items-center",children:Object(c.jsx)(Ye,{})}),Object(c.jsx)("div",{className:"col-lg-5 col-sm-12 mt-sm-2 d-flex justify-content-end",children:Object(c.jsx)(ye,{})})]})},Be=n(68),Ue=n.n(Be),We=function(e){var t=e.sumIncome,n=e.sumExpense;return Object(c.jsxs)("div",{className:"row justify-content-center text-center mt-5 mb-5",children:[Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h2",{children:"Income"}),Object(c.jsx)("h2",{className:Ue.a.income,children:(t/100).toFixed(2)})]}),Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h2",{children:"Expense "}),Object(c.jsx)("h2",{className:Ue.a.expense,children:(n/100).toFixed(2)})]}),Object(c.jsxs)("div",{className:"col-3",children:[Object(c.jsx)("h2",{children:"Total"}),Object(c.jsx)("h2",{className:Ue.a.total,children:((t-n)/100).toFixed(2)})]})]})},Ve=n(57),Ge=n.n(Ve),Xe=function(e){var t=e.week;return Object(c.jsxs)("div",{className:"row justify-content-center mb-3",children:[Object(c.jsx)("div",{className:"col-3 d-flex justify-content-center",children:Object(c.jsxs)("div",{className:0===m()(t.from).startOf(C.ISO_WEEK).diff(m()(),C.WEEK)&&0===m()(t.to).endOf(C.ISO_WEEK).diff(m()(),C.WEEK)?Ge.a.selected_date:Ge.a.date,children:[m()(t.from).format("DD.MM")," ~ ",m()(t.to).format("DD.MM")]})}),Object(c.jsx)("div",{className:"col-3  ".concat(Ge.a.income),children:(t.income/100).toFixed(2)}),Object(c.jsx)("div",{className:"col-3  ".concat(Ge.a.expense),children:(t.expense/100).toFixed(2)})]})},Ke=(n(62),C.MONTH),ze=C.DAY,Ze=C.ISO_WEEK,Je=C.YEAR,qe=function(e){return m()(e).startOf(Ke)},Qe=function(e){return m()(e).endOf(Ke)},$e=function(e){return m()(e).startOf(Je)},et=function(e){return m()(e).endOf(Je)},tt=function(e){return qe(e).startOf(Ze)},nt=function(e){return qe(e).endOf(Ze)},at=function(e){return Qe(e).startOf(Ze)},ct=function(e){return Qe(e).startOf(ze).endOf(Ze)},st=function(e,t){return 0===m()(m()(e).toDate()).diff(m()(t).toDate(),ze)},rt=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(0),o=Object(b.a)(r,2),i=o[0],d=o[1],O=Object(s.useState)(0),_=Object(b.a)(O,2),p=_[0],x=_[1],h=Object(l.c)(ve),f=h.transactionEvent.amount,v=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],a([]),n.push({from:tt(t).toDate(),to:nt(t).toDate(),income:0,expense:0}),c=nt(t).get(C.DATE);c<=at(t).get(C.DATE)-7;c+=7)n.push({from:m()(t).set(C.DATE,c+1).startOf(C.DATE).toDate(),to:m()(t).set(C.DATE,c+7).startOf(C.DATE).toDate(),income:0,expense:0});return n.push({from:at(t).startOf(C.DATE).toDate(),to:ct(t).startOf(C.DATE).toDate(),income:0,expense:0}),e.prev=5,e.next=8,N(n);case 8:s=e.sent,r=s.data,a(r.months.reverse()),x(r.sumExpense),d(r.sumIncome),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(5),new Error(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){v(h.date)}),[f,h.date]),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(He,{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(We,{sumExpense:p,sumIncome:i}),n.map((function(e){return Object(c.jsx)(Xe,{week:e},e.from.toString())}))]})]})},ot=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(rt,{})]})]})},it=function(e){var t=e.transactionEvent,n=e.handleSelectEvent,a=e.transaction._id,r=Object(s.useCallback)((function(){n(t,a)}),[n,a,t]);return Object(c.jsxs)("div",{className:"row align-self-center text-center ",style:{borderTop:"2px solid black",padding:"15px 0 15px 0"},role:"button",tabIndex:0,onKeyDown:r,onClick:r,children:[Object(c.jsx)("div",{className:"col-4 align-self-center ",children:Object(c.jsxs)("div",{className:"row justify-content-center ",children:[Object(c.jsx)("div",{className:"col-xxl-6 col-xl-6 align-self-center",children:t.type===A.TRANSFER?Object(c.jsx)("h2",{children:A.TRANSFER}):Object(c.jsx)("h2",{children:t.category})}),Object(c.jsx)("div",{className:"col-xll-6 col-xl-6 align-self-center",children:t.type===A.TRANSFER?Object(c.jsxs)("h4",{children:[t.from," ---\x3e ",t.to]}):Object(c.jsx)("h2",{children:t.account})})]})}),Object(c.jsx)("h2",{className:"col-4 align-self-center ",children:t.type===A.INCOME?(t.amount/100).toFixed(2):null}),Object(c.jsx)("div",{className:"col-4 ",children:Object(c.jsx)("h2",{children:t.type===A.EXPENSE||t.type===A.TRANSFER?(t.amount/100).toFixed(2):null})})]})},lt=n(44),dt=n.n(lt),ut=function(e){var t=e.transaction;return Object(c.jsxs)("div",{className:"row text-center ",children:[Object(c.jsx)("div",{className:"col-4 align-self-center ",children:Object(c.jsxs)("div",{className:dt.a.date_content,children:[Object(c.jsx)("div",{className:dt.a.date,children:m()(t.createdAt).format("DD")}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:dt.a.date_year,children:m()(t.createdAt).format("MM.YYYY")}),Object(c.jsx)("div",{className:st(t.createdAt,m()().startOf(C.DATE).toDate())?dt.a.date_day_select:dt.a.date_day,children:m()(t.createdAt).format("ddd")})]})]})}),Object(c.jsx)("div",{className:"col-4 align-self-center",children:Object(c.jsx)("h2",{children:(t.income/100).toFixed(2)})}),Object(c.jsx)("div",{className:"col-2 align-self-center",children:Object(c.jsx)("h2",{children:(t.expense/100).toFixed(2)})})]})},jt=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(0),o=Object(b.a)(r,2),i=o[0],d=o[1],O=Object(s.useState)(0),_=Object(b.a)(O,2),p=_[0],x=_[1],h=Object(l.b)(),N=Object(l.c)(ve),v=(N.transactionEvent.amount,function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f(qe(t).toDate(),Qe(t).toDate());case 3:n=e.sent,c=n.data,a(c.transactions),x(c.sumExpense),d(c.sumIncome),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),new Error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}());Object(s.useEffect)((function(){v(N.date)}),[N.isTransactionOpen,N.date]);var S=function(e,t){var n=Object(Ce.a)(Object(Ce.a)({},e),{},{amount:(e.amount/100).toFixed(2),fees:(e.fees/100).toFixed(2),transactionId:t});h(oe()),h(se(n))};return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(He,{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(We,{sumExpense:p,sumIncome:i}),n.sort((function(e,t){return m()(t.createdAt).get(C.DATE)-m()(e.createdAt).get(C.DATE)})).map((function(e){var t=e._id;return Object(c.jsx)("div",{className:"row ".concat(dt.a.table_container),children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)(ut,{transaction:e}),e.events.map((function(t){var n=t._id;return Object(c.jsx)(it,{transaction:e,transactionEvent:t,handleSelectEvent:S},n)}))]})},t)}))]})]})},bt=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(jt,{})]})]})},Ot=n(58),mt=n.n(Ot),_t=function(e){var t=e.month,n=Object(F.f)(),a=Object(l.b)(),r=Object(s.useCallback)((function(){a(re(t.from)),n.push("/transaction/monthly")}),[a,n,t.from]);return Object(c.jsxs)("div",{role:"button",tabIndex:-1,onClick:r,onKeyDown:r,className:"row justify-content-center",children:[Object(c.jsx)("div",{className:"col-3 d-flex justify-content-center",children:Object(c.jsx)("div",{className:" align-self-center ".concat(0===m()(t.from).diff(m()().startOf(C.MONTH).toDate(),C.MONTH)?mt.a.month_selected:mt.a.month),children:m()(t.from).format("MMMM")})}),Object(c.jsx)("div",{className:"col-3 align-self-center ".concat(mt.a.income),children:(t.income/100).toFixed(2)}),Object(c.jsx)("div",{className:"col-3 align-self-center ".concat(mt.a.expense),children:(t.expense/100).toFixed(2)})]})},pt=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(0),o=Object(b.a)(r,2),i=o[0],d=o[1],O=Object(s.useState)(0),_=Object(b.a)(O,2),p=_[0],x=_[1],h=Object(l.c)(Se),f=function(e){var t=[],n=e.filter((function(e){return e.expense>0||e.income>0})),c=m()().get(C.MONTH);n.length>0&&c<m()(n[n.length-1].from).get(C.MONTH)&&(c=m()(n[n.length-1].from).get(C.MONTH));for(var s=function(e){n.filter((function(t){return m()(t.from).get(C.MONTH)===e})).length>0?t.push(n.filter((function(t){return m()(t.from).get(C.MONTH)===e}))[0]):t.push({from:m()().startOf(C.MONTH).set(C.MONTH,e).toDate(),to:m()().endOf(C.MONTH).set(C.MONTH,e).toDate(),income:0,expense:0})},r=0;r<=c;r+=1)s(r);a(t.reverse())},v=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],c=0;c<=11;c+=1)n.push({from:m()(t).set(C.MONTH,c).startOf(C.MONTH).toDate(),to:m()(t).set(C.MONTH,c).endOf(C.MONTH).toDate(),income:0,expense:0});return e.prev=2,e.next=5,N(n);case 5:s=e.sent,r=s.data,m()(t).get(C.YEAR)<m()().get(C.YEAR)&&(a(r.months.reverse()),x(r.sumExpense),d(r.sumIncome)),m()(t).get(C.YEAR)===m()().get(C.YEAR)&&(f(r.months),x(r.sumExpense),d(r.sumIncome)),m()(t).get(C.YEAR)>m()().get(C.YEAR)&&(a(r.months.filter((function(e){return e.expense>0||e.income>0})).reverse()),x(r.sumExpense),d(r.sumIncome)),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(2),new Error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){v(h)}),[h]),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(He,{}),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(We,{sumIncome:i,sumExpense:p}),n.map((function(e){return Object(c.jsx)(_t,{month:e},e.from.toString())}))]})]})},xt=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(pt,{})]})]})},ht=n(38),ft=n.n(ht),Nt=function(e){var t=e.calendarDate,n=e.transactions,a=e.date,r=e.handleOpenInfoModal,o=Object(s.useCallback)((function(){r(m()(t.date).startOf(C.DATE).toDate())}),[t.date,r]);return Object(c.jsxs)("div",{role:"button",tabIndex:0,onKeyDown:o,className:"\n        ".concat(m()(a).get(C.MONTH)===m()(t.date).get(C.MONTH)?ft.a.calendar_date_box_container:ft.a.calendar_date_box_container_other_month,"\n      "),onClick:o,children:[Object(c.jsx)("div",{className:st(t.date,m()().startOf(C.DATE).toDate())?ft.a.current_date:ft.a.calendar_date,children:m()(t.date).get(C.DATE)}),n.map((function(e){var n=e._id,a=e.income,s=e.expense;return st(t.date,e.createdAt)?Object(c.jsxs)("div",{className:"ps-3",children:[Object(c.jsx)("div",{className:" text-center ".concat(ft.a.calendar_date_income),children:(a/100).toFixed(2)}),Object(c.jsx)("div",{className:" text-center ".concat(ft.a.calendar_date_expense),children:(s/100).toFixed(2)}),Object(c.jsx)("div",{className:" text-center ".concat(ft.a.calendar_date_total),children:((a-s)/100).toFixed(2)})]},n):null}))]})},vt=function(e){var t=e.calendarDates,n=e.date,a=e.transactions,r=e.handleOpenInfoModal,o=Object(s.useState)([w.MONDAY,w.THUESDAY,w.WEDNESDAY,w.THURSDAY,w.FRIDAY,w.SATURDAY,w.SUNDAY]),i=Object(b.a)(o,1)[0];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row text-center",children:i.map((function(e){return Object(c.jsx)("h4",{className:"col",children:e},e)}))}),Object(c.jsx)("div",{className:"row ",children:t.map((function(e){return Object(c.jsx)(Nt,{calendarDate:e,transactions:a,date:n,handleOpenInfoModal:r},e.date.toString())}))})]})},St=n(132),yt=function(e){var t=e.handleOpenEdit,n=e.event,a=n.category,r=n.from,o=n.account,i=n.to,l=n.type,d=n.amount,u=n.currency,j=Object(s.useCallback)((function(){t(n)}),[n]);return Object(c.jsxs)("tr",{role:"button",onClick:j,children:[Object(c.jsxs)("th",{children:[a,r]}),Object(c.jsxs)("th",{children:[o,i]}),Object(c.jsxs)("th",{className:"text-".concat(l===A.INCOME?"success":"dark  "),children:[K(l,d)," ",u]}),Object(c.jsxs)("th",{className:"text-".concat(l===A.EXPENSE?"danger":"dark  "),children:[z(l,d)," ",u]})]})},Et=function(e){var t=e.selectedTransaction,n=e.handleOpenEdit,a=t.createdAt,s=t.events;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"text-center font-weight-bold pt-sm-3 pb-3",children:Object(c.jsx)("h5",{children:m()(a).format("DD.MM.YYYY(dddd)")})}),Object(c.jsx)("div",{className:ft.a.table_scroll,children:0===s.length?Object(c.jsx)("div",{className:"text-center",children:B.NO_DATA_AVAILABLE}):Object(c.jsxs)("table",{className:"table table-hover  ",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Category"}),Object(c.jsx)("th",{scope:"col",children:"Account"}),Object(c.jsx)("th",{scope:"col",children:"Income"}),Object(c.jsx)("th",{scope:"col",children:"Expense"})]})}),Object(c.jsx)("tbody",{children:s.map((function(e){var t=e._id;return Object(c.jsx)(yt,{event:e,handleOpenEdit:n},t)}))})]})})]})},At=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],o=Object(s.useState)({_id:"",createdAt:m()().startOf("date").toDate(),events:[],expense:0,income:0}),i=Object(b.a)(o,2),d=i[0],O=i[1],_=Object(s.useState)([]),p=Object(b.a)(_,2),x=p[0],h=p[1],N=Object(l.b)(),v=Object(l.c)(ve),S=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tt(t).toDate(),a=ct(t).toDate(),e.prev=2,e.next=5,f(n,a);case 5:return c=e.sent,e.next=8,c.data.transactions.forEach((function(e){st(d.createdAt,e.createdAt)&&O(e)}));case 8:r(c.data.transactions),c.data.transactions.find((function(e){return st(d.createdAt,e.createdAt)}))||O({_id:"",createdAt:t,events:[],expense:0,income:0}),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),new St.Error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){for(var t=m()(e).set(C.DATE,0).get(C.DATE),n=[],a=tt(e).get(C.DATE);a<=t;a+=1)n.push({date:m()(tt(e)).set(C.DATE,a).toDate()});return n},E=function(e){for(var t=[],n=1;n<=ct(e).get(C.DATE);n+=1)t.push({date:m()(ct(e)).startOf(C.DATE).set(C.DATE,n).toDate()});return t},A=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(h([]),n=[],1!==qe(t).get(C.DAY)&&(n=y(t)),a=1;a<=Qe(t).get(C.DATE);a+=1)n.push({date:m()(qe(t)).set(C.DATE,a).toDate()});0!==Qe(t).get(C.DAY)&&(E(t),n=n.concat(E(t))),h(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){S(v.date),A(v.date)}),[v.isTransactionOpen,v.date]),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(He,{}),Object(c.jsxs)("div",{className:"row mt-5",children:[Object(c.jsx)("div",{className:"col-xxl-7 col-xl-12 pe-4  ",children:Object(c.jsx)(vt,{handleOpenInfoModal:function(e){N(re(e)),O({_id:"",createdAt:e,events:[],expense:0,income:0}),function(e){n.forEach((function(t){st(e,t.createdAt)&&O(t)}))}(e)},transactions:n,calendarDates:x,date:v.date})}),Object(c.jsx)("div",{className:"col-xxl-5 col-xl-12  p-2 pt-sm-5 pt-xxl-0 ",children:Object(c.jsx)(Et,{selectedTransaction:d,handleOpenEdit:function(e){var t=d._id,n=Object(Ce.a)(Object(Ce.a)({},e),{},{amount:(e.amount/100).toFixed(2),fees:(e.fees/100).toFixed(2),transactionId:t});N(function(e){return{type:a.SET_ACCOUNT,payload:e}}(n)),N(se(n)),N(oe())}})})]})]})},gt=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(At,{})]})]})},Tt=n(89),wt=(n(124),function(e){var t=e.stats,n=e.isIncome,a=e.selected,s=e.handleSelect,r=0;t.forEach((function(e){r+=e.value}));var o=t.map((function(e,t){return a===t?Object(Ce.a)(Object(Ce.a)({},e),{},{color:"grey"}):e}));return Object(c.jsxs)("div",{className:"col text-center form_wrapper",children:[Object(c.jsx)("div",{className:"row justify-content-center title_stats",children:n?"Income":"Expense"}),0===t.length?Object(c.jsx)("div",{className:"stats_error",children:B.NO_DATA_AVAILABLE}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"row justify-content-center",children:Object(c.jsx)(Tt.PieChart,{style:{fontFamily:'"Nunito Sans", -apple-system, Helvetica, Arial, sans-serif',fontSize:"0.3rem",width:"420px"},data:o,radius:Tt.PieChart.defaultProps.radius-6,lineWidth:60,segmentsStyle:{transition:"stroke .3s",cursor:"pointer"},segmentsShift:function(e){return e===a?6:1},animate:!0,label:function(e){var t=e.dataEntry;return" ".concat(t.percentage.toFixed(1)," %")},labelPosition:70,labelStyle:{fill:"#fff",pointerEvents:"none"},onClick:function(e,t){s(a===t?{index:void 0,isIncome:n}:{index:t,isIncome:n})}})}),Object(c.jsx)("div",{className:"row justify-content-center mt-5",children:Object(c.jsx)("table",{className:"content_table",children:Object(c.jsx)("tbody",{children:t.map((function(e,t){return Object(c.jsxs)("tr",{className:"".concat(t===a?"table_row_selected":"table_row"),onMouseEnter:function(){return s({index:t,isIncome:n})},onMouseLeave:function(){return s({index:void 0,isIncome:n})},children:[Object(c.jsx)("td",{className:"percent_container",children:Object(c.jsx)("div",{className:"percent",style:{backgroundColor:e.color}})}),Object(c.jsxs)("td",{children:[(e.value/r*100).toFixed(1),"%"]}),Object(c.jsx)("td",{children:e.category.charAt(0).toUpperCase()+e.category.slice(1)}),Object(c.jsxs)("td",{className:"amount",children:[(e.value/100).toFixed(2)," BGN"]})]})}))})})})]})]})}),Ct={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}},Dt=function(){var e=Object(j.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.get("".concat("/stats","/").concat(m()(t).toISOString(),"/").concat(m()(n).toISOString()),Ct));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),It=["#C94D6D","#4174C9","#E4BF58","#7CDDDD","#7031AC","#3C9D4E","#8B008B","#BDB76B","#8B0000","#E9967A","#2F4F4F","#4B0082","#9ACD32"],Rt=function(e){e.sort((function(e,t){return t.value-e.value}));var t=[];return e.forEach((function(e,n){t.push(Object(Ce.a)(Object(Ce.a)({},e),{},{color:It[n]}))})),t},kt=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),o=Object(b.a)(r,2),i=o[0],d=o[1],O=Object(s.useState)([]),_=Object(b.a)(O,2),p=_[0],x=_[1],h=Object(s.useState)(),f=Object(b.a)(h,2),N=f[0],v=f[1],S=Object(s.useState)(),y=Object(b.a)(S,2),E=y[0],A=y[1],g=Object(l.c)((function(e){return e.transactionReducer})),T=function(e){e.isIncome?v(e.index):A(e.index)},w=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,n=m()(t).set("day",1).toDate(),c=m()(t).set("day",7).toDate(),e.next=6,Dt(n,c);case 6:s=e.sent,r=Rt(s.data.incomeStats),o=Rt(s.data.expenseStats),a(r),x(o),d(!1),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),new Error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){w(g.date)}),[g.date]),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(He,{}),!i&&Object(c.jsxs)("div",{className:"row justify-content-evenly ",children:[Object(c.jsx)(wt,{stats:n,isIncome:!0,selected:N,handleSelect:T}),Object(c.jsx)(wt,{stats:p,isIncome:!1,selected:E,handleSelect:T})]})]})},Mt=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(kt,{})]})]})},Ft=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)([]),o=Object(b.a)(r,2),i=o[0],d=o[1],O=Object(s.useState)(),m=Object(b.a)(O,2),_=m[0],x=m[1],h=Object(s.useState)(),f=Object(b.a)(h,2),N=f[0],v=f[1],S=Object(l.c)((function(e){return e.transactionReducer})),y=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}},e.prev=1,e.next=4,p.get("/stats/2020-01-28T22:00:00.000Z/2021-12-30T21:00:00.000Z",t);case 4:n=e.sent,a(n.data.incomeStats),d(n.data.expenseStats),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(1),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),E=function(e){e.isIncome?x(e.index):v(e.index)};return Object(s.useEffect)((function(){y()}),[S.date]),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(He,{}),Object(c.jsxs)("div",{className:"row justify-content-evenly",children:[Object(c.jsx)(wt,{stats:n,isIncome:!0,selected:_,handleSelect:E}),Object(c.jsx)(wt,{stats:i,isIncome:!1,selected:N,handleSelect:E})]})]})},Lt=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(Ft,{})]})]})},Pt=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)([]),o=Object(b.a)(r,2),i=o[0],d=o[1],O=Object(s.useState)(!0),m=Object(b.a)(O,2),_=m[0],p=m[1],x=Object(s.useState)(),h=Object(b.a)(x,2),f=h[0],N=h[1],v=Object(s.useState)(),S=Object(b.a)(v,2),y=S[0],E=S[1],A=Object(l.c)((function(e){return e.transactionReducer})),g=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,n=$e(t).toDate(),c=et(t).toDate(),e.next=6,Dt(n,c);case 6:s=e.sent,r=Rt(s.data.incomeStats),o=Rt(s.data.expenseStats),a(r),d(o),p(!1),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),new Error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),T=function(e){e.isIncome?N(e.index):E(e.index)};return Object(s.useEffect)((function(){g(A.date)}),[A.date]),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(He,{}),!_&&Object(c.jsxs)("div",{className:"row justify-content-evenly ",children:[Object(c.jsx)(wt,{stats:n,isIncome:!0,selected:f,handleSelect:T}),Object(c.jsx)(wt,{stats:i,isIncome:!1,selected:y,handleSelect:T})]})]})},Yt=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(Pt,{})]})]})},Ht=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),o=Object(b.a)(r,2),i=o[0],d=o[1],O=Object(s.useState)([]),m=Object(b.a)(O,2),_=m[0],p=m[1],x=Object(s.useState)(),h=Object(b.a)(x,2),f=h[0],N=h[1],v=Object(s.useState)(),S=Object(b.a)(v,2),y=S[0],E=S[1],A=Object(l.c)((function(e){return e.transactionReducer})),g=function(e){e.isIncome?N(e.index):E(e.index)},T=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,c,s,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,n=qe(t).toDate(),c=Qe(t).toDate(),e.next=6,Dt(n,c);case 6:s=e.sent,r=Rt(s.data.incomeStats),o=Rt(s.data.expenseStats),a(r),p(o),d(!1),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),new Error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){T(A.date)}),[A.date]),Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(He,{}),!i&&Object(c.jsxs)("div",{className:"row justify-content-evenly ",children:[Object(c.jsx)(wt,{stats:n,isIncome:!0,selected:f,handleSelect:g}),Object(c.jsx)(wt,{stats:_,isIncome:!1,selected:y,handleSelect:g})]})]})},Bt=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(Ht,{})]})]})},Ut=n(138),Wt=n(133),Vt=n(8),Gt=n(90),Xt=n(137),Kt=n(37),zt=n.n(Kt),Zt={headers:{Authorization:"Bearer ".concat(localStorage.getItem("jwt"))}},Jt=function(){var e=Object(j.a)(u.a.mark((function e(t,n,a,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.post("".concat("/export","/").concat(m()(t).toISOString(),"/").concat(m()(n).toISOString(),"/").concat(a),c,Zt));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,c){return e.apply(this,arguments)}}(),qt=Object(Xt.a)(),Qt=function(){var e=Object(s.useState)({label:"Income",value:"income"}),t=Object(b.a)(e,2),n=t[0],a=t[1],o=Object(s.useState)([]),i=Object(b.a)(o,2),l=i[0],d=i[1],O=Object(s.useState)(m()().toDate()),_=Object(b.a)(O,2),p=_[0],x=_[1],h=Object(s.useState)(m()().toDate()),f=Object(b.a)(h,2),N=f[0],v=f[1],S=Object(s.useState)(""),y=Object(b.a)(S,2),E=y[0],A=y[1],g=Object(s.useState)([]),T=Object(b.a)(g,2),w=T[0],C=T[1],D="dd/MM/yyyy",I=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt(p,N,n.value,l);case 2:t=e.sent,C(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=Object(s.useCallback)((function(e){x(e),e>N&&v(e)}),[p]),k=Object(s.useCallback)((function(e){v(e)}),[N]);Object(s.useEffect)((function(){I(),(null===l||void 0===l?void 0:l.length)>0&&A("")}),[n,l,p,N]);var M=Object(s.forwardRef)((function(e,t){var n=e.value,a=e.onClick;return Object(c.jsxs)("div",{className:"row align-items-center",role:"button",tabIndex:0,onKeyDown:function(){return a},onClick:a,ref:t,children:[Object(c.jsx)("div",{className:"col-10 ps-4 ",children:n}),Object(c.jsx)("div",{className:"col-2 d-flex justify-content-end ",children:Object(c.jsx)(L.a,{className:zt.a.calendar_icon,icon:P.b})})]})})),F={height:"100%",minHeight:"50px",fontSize:"1.2rem",borderRadius:"6px",border:"2px solid #0160b2"},Y={fontSize:"1.2rem",color:"#0160b2"},H={color:"#0160b2",fontSize:"1.2rem"},B={color:"white",fontSize:"1.2rem",border:"2px solid #0160b2"},U={color:"#0160b2"},W={color:"#0160b2",cursor:"pointer"},V={control:function(e){return Object(Ce.a)(Object(Ce.a)({},e),F)},placeholder:function(e){return Object(Ce.a)(Object(Ce.a)({},e),Y)},indicatorSeparator:function(){return{visible:"none"}},option:function(e,t){return Object(Ce.a)(Object(Ce.a)(Object(Ce.a)({},e),H),{},{fontWeight:t.isSelected?"bolder":"lighter",backgroundColor:t.isSelected?"#0160b2":"white",color:t.isSelected?"white":"#0160b2"})},menu:function(e){return Object(Ce.a)(Object(Ce.a)({},e),B)},singleValue:function(e){return Object(Ce.a)(Object(Ce.a)({},e),U)},noOptionsMessage:function(e){return Object(Ce.a)(Object(Ce.a)({},e),U)},clearIndicator:function(){return Object(Ce.a)({},W)},dropdownIndicator:function(e){return Object(Ce.a)(Object(Ce.a)({},e),W)}};return Object(c.jsx)("div",{className:"wrapper",children:Object(c.jsx)("div",{className:"container-xx mt-5 ",children:Object(c.jsxs)("div",{className:"row justify-content-between ",children:[Object(c.jsxs)("div",{className:"col-xxl col-sm-12 col-lg-6 mb-2",children:[Object(c.jsx)("div",{className:zt.a.label,children:"Transaction Type"}),Object(c.jsx)(Gt.a,{value:n,styles:V,onChange:function(e){return function(e){a(e)}(e)},components:qt,options:[{label:"Income",value:"income"},{label:"Expense",value:"expense"},{label:"Income&Expense",value:"income & expense"}]})]}),Object(c.jsxs)("div",{className:"col-xxl col-sm-12 col-lg-6 mb-2",children:[Object(c.jsx)("div",{className:zt.a.label,children:"Account"}),Object(c.jsx)(Gt.a,{isMulti:!0,hideSelectedOptions:!1,value:l,styles:V,closeMenuOnSelect:!1,onChange:function(e){return function(e){d(e)}(e)},components:{ValueContainer:function(e){var t=e.children,n=e.getValue,a=Object(Ut.a)(e,["children","getValue"]),s=a.hasValue,r=n().length;return s?Object(c.jsx)(Vt.l.ValueContainer,Object(Ce.a)(Object(Ce.a)({},a),{},{children:"".concat(r," accounts")})):Object(c.jsx)(Vt.l.ValueContainer,Object(Ce.a)(Object(Ce.a)({},a),{},{children:t}))}},options:[{label:"Card",value:"card"},{label:"Accounts",value:"accounts"},{label:"Cash",value:"cash"}]}),Object(c.jsx)("div",{className:zt.a.error_accout,children:he(E)})]}),Object(c.jsxs)("div",{className:"col-xxl col-sm-12 col-lg-6 mb-2",children:[Object(c.jsx)("div",{className:zt.a.label,children:"From"}),Object(c.jsx)(be.a,{wrapperClassName:zt.a.input,selected:p,dateFormat:D,onChange:R,timeCaption:"time",customInput:r.a.createElement(M)})]}),Object(c.jsxs)("div",{className:"col-xxl col-sm-12 col-lg-6 mb-2",children:[Object(c.jsx)("div",{className:zt.a.label,children:"To"}),Object(c.jsx)(be.a,{wrapperClassName:zt.a.input,selected:N,dateFormat:D,onChange:k,timeCaption:"time",minDate:p,customInput:r.a.createElement(M)})]}),Object(c.jsx)("div",{className:"col-xxl col-sm-12 mb-2 mt-4",children:0===(null===l||void 0===l?void 0:l.length)?Object(c.jsx)("div",{className:"row align-items-end justify-content-center",children:Object(c.jsx)("button",{onClick:function(){A("Please select an account")},type:"button",className:zt.a.export_disabled_button,children:"Export CSV"})}):Object(c.jsx)("div",{className:"row align-items-end justify-content-center",children:Object(c.jsx)(Wt.CSVLink,{className:zt.a.export_button,data:w,filename:"".concat(n.value," - ").concat(m()(p).format("MMMM Do YYYY")," - ").concat(m()(N).format("MMMM Do YYYY"),".csv"),target:"_blank",children:"Export CSV"})})})]})})})},$t=function(){return Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)(ae,{}),Object(c.jsxs)("div",{className:"w-100",children:[Object(c.jsx)(ee,{}),Object(c.jsx)(Qt,{})]})]})},en=function(){return Object(c.jsx)(M.a,{children:Object(c.jsxs)(F.c,{children:[Object(c.jsx)(F.a,{path:"/authentication",exact:!0,component:Pe}),Object(c.jsx)(F.a,{path:"/",exact:!0,component:Te}),Object(c.jsx)(F.a,{path:"/profile",exact:!0,component:Te}),Object(c.jsx)(F.a,{path:"/transaction/monthly",exact:!0,component:gt}),Object(c.jsx)(F.a,{path:"/transaction/daily",exact:!0,component:bt}),Object(c.jsx)(F.a,{path:"/transaction/yearly",exact:!0,component:xt}),Object(c.jsx)(F.a,{path:"/transaction/weekly",exact:!0,component:ot}),Object(c.jsx)(F.a,{path:"/transaction/period",exact:!0,component:gt}),Object(c.jsx)(F.a,{path:"/stats/monthly",exact:!0,component:Bt}),Object(c.jsx)(F.a,{path:"/stats/yearly",exact:!0,component:Yt}),Object(c.jsx)(F.a,{path:"/stats/weekly",exact:!0,component:Mt}),Object(c.jsx)(F.a,{path:"/stats/period",exact:!0,component:Lt}),Object(c.jsx)(F.a,{path:"/export",exact:!0,component:$t})]})})},tn=(n(269),function(){return Object(c.jsx)(k,{children:Object(c.jsx)(en,{})})}),nn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},an=n(41),cn=n(134),sn=n(135),rn={user:{email:"",categories:[],createdAt:"",username:"",updatedAt:"",accounts:[],type:"",id:""},expenseCategories:[],incomeCategories:[],token:"",loading:!0},on=function(e,t){return t.token&&localStorage.setItem("jwt",t.token),Object(Ce.a)(Object(Ce.a)({},e),{},{user:t.user,token:t.token,loading:!1})},ln=function(e,t){return t.token&&localStorage.setItem("jwt",t.token),Object(Ce.a)(Object(Ce.a)({},e),{},{user:t.user,expenseCategories:t.expenseCategories.expenseCategories,incomeCategories:t.incomeCategories.incomeCategories,token:t.token})},dn=function(e,t){return Object(Ce.a)(Object(Ce.a)({},e),{},{user:Object(Ce.a)(Object(Ce.a)({},e.user),{},{accounts:[Object(Ce.a)(Object(Ce.a)({},e.user.accounts[0]),{},{accounts:t.accounts})]})})},un=function(e,t){var n,a=[];(t.type===A.INCOME&&(a=[Object(Ce.a)(Object(Ce.a)({},e.user.accounts[0]),{},{accounts:Object(Ce.a)(Object(Ce.a)({},e.user.accounts[0].accounts),{},Object(we.a)({},t.account,e.user.accounts[0].accounts[t.account]-100*t.amount))})]),t.type===A.TRANSFER)&&(a=[Object(Ce.a)(Object(Ce.a)({},e.user.accounts[0]),{},{accounts:Object(Ce.a)(Object(Ce.a)({},e.user.accounts[0].accounts),{},(n={},Object(we.a)(n,t.from,e.user.accounts[0].accounts[t.from]+100*t.amount+100*t.fees),Object(we.a)(n,t.to,e.user.accounts[0].accounts[t.to]-100*t.amount),n))})]);return t.type===A.EXPENSE&&(a=[Object(Ce.a)(Object(Ce.a)({},e.user.accounts[0]),{},{accounts:Object(Ce.a)(Object(Ce.a)({},e.user.accounts[0].accounts),{},Object(we.a)({},t.account,e.user.accounts[0].accounts[t.account]+100*t.amount))})]),Object(Ce.a)(Object(Ce.a)({},e),{},{user:Object(Ce.a)(Object(Ce.a)({},e.user),{},{accounts:a})})},jn={date:m()().toDate(),isTransactionOpen:!1,transactionEvent:{_id:"",type:"income",date:m()().toDate(),account:"",from:"",category:"",fees:"0",transferId:"",to:"",amount:"",note:"",description:"",transactionId:""}},bn=function(e,t){var n;return"type"===t.payload.name?Object(Ce.a)(Object(Ce.a)({},e),{},{transactionEvent:Object(Ce.a)(Object(Ce.a)({},e.transactionEvent),{},(n={},Object(we.a)(n,t.payload.name,t.payload.value),Object(we.a)(n,"category",""),Object(we.a)(n,"to",""),Object(we.a)(n,"from",""),Object(we.a)(n,"account",""),Object(we.a)(n,"fees","0"),n))}):Object(Ce.a)(Object(Ce.a)({},e),{},{transactionEvent:Object(Ce.a)(Object(Ce.a)({},e.transactionEvent),{},Object(we.a)({},t.payload.name,t.payload.value))})},On=function(e){var t=m()(e.date).add(1,C.MONTH);return Object(Ce.a)(Object(Ce.a)({},e),{},{date:t.toDate()})},mn=function(e){var t=m()(e.date).add(-1,C.MONTH);return Object(Ce.a)(Object(Ce.a)({},e),{},{date:t.toDate()})},_n=function(e){var t=m()(e.date).add(1,C.YEAR).toDate();return Object(Ce.a)(Object(Ce.a)({},e),{},{date:t})},pn=function(e){var t=m()(e.date).add(-1,C.YEAR);return Object(Ce.a)(Object(Ce.a)({},e),{},{date:t.toDate()})},xn=function(e,t){return Object(Ce.a)(Object(Ce.a)({},e),{},{transactionEvent:t.payload})},hn=function(e,t){return Object(Ce.a)(Object(Ce.a)({},e),{},{date:t.payload})},fn=function(e){return Object(Ce.a)(Object(Ce.a)({},e),{},{isTransactionOpen:!e.isTransactionOpen})},Nn=Object(an.combineReducers)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SIGN_IN:return on(e,t.payload);case a.SAVE_USER:return ln(e,t.payload);case a.SET_ACCOUNTS:return dn(e,t.payload);case a.SET_ACCOUNT:return un(e,t.payload);default:return e}},transactionReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.HANDLE_NEXT_WEEK:var n=m()(e.date).set("date",e.date.getDate()-7);return Object(Ce.a)(Object(Ce.a)({},e),{},{date:n.toDate()});case W.HANDLE_PREVIOUS_WEEK:var a=m()(e.date).set("date",e.date.getDate()+7);return Object(Ce.a)(Object(Ce.a)({},e),{},{date:a.toDate()});case W.HANDLE_NEXT_MONTH:return On(e);case W.HANDLE_PREVIOUS_MONTH:return mn(e);case W.HANDLE_NEXT_YEAR:return _n(e);case W.HANDLE_PREVIOUS_YEAR:return pn(e);case W.TRANSACTION_INPUT_CHANGE:return bn(e,t);case W.SET_TRANSACTION:return xn(e,t);case W.SET_DATE:return hn(e,t);case W.SET_IS_TRANSACTION_OPEN:return fn(e);default:return e}}}),vn=[cn.a],Sn=Object(an.createStore)(Nn,{},Object(sn.composeWithDevTools)(an.applyMiddleware.apply(void 0,vn)));i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(l.a,{store:Sn,children:Object(c.jsx)(tn,{})})}),document.getElementById("root")),nn()},37:function(e,t,n){e.exports={label:"ExportStyle_label__376R3",input:"ExportStyle_input__IiABP",title:"ExportStyle_title__2JSWi",calendar_icon:"ExportStyle_calendar_icon__GKq7G",export_button:"ExportStyle_export_button__2Zb_q",export_disabled_button:"ExportStyle_export_disabled_button__10QN5",error_accout:"ExportStyle_error_accout__2MGu2"}},38:function(e,t,n){e.exports={container:"MonthlyStyle_container__2PIP_",calendar:"MonthlyStyle_calendar__2g3ku",income:"MonthlyStyle_income__X0uE0",expense:"MonthlyStyle_expense__3klFT",total:"MonthlyStyle_total__ZbAkB",selected_tab:"MonthlyStyle_selected_tab__1xPJT",tab_list:"MonthlyStyle_tab_list__2EgCb",tab:"MonthlyStyle_tab__rcEsY",days_wrapper:"MonthlyStyle_days_wrapper__3nbS1",day_container:"MonthlyStyle_day_container__mP4D7",calendar_wrapper:"MonthlyStyle_calendar_wrapper__3JpKF",calendar_date_box_container:"MonthlyStyle_calendar_date_box_container__11yZ1",calendar_date_box_container_other_month:"MonthlyStyle_calendar_date_box_container_other_month__uTLW0",calendar_date:"MonthlyStyle_calendar_date__2yf4C",current_date:"MonthlyStyle_current_date__nsEOQ",calendar_events_content:"MonthlyStyle_calendar_events_content__uP68m",actions:"MonthlyStyle_actions__2Yxle",table_scroll:"MonthlyStyle_table_scroll__hw4E_",calendar_date_income:"MonthlyStyle_calendar_date_income__3wg6j",calendar_date_expense:"MonthlyStyle_calendar_date_expense__1lUmq",calendar_date_total:"MonthlyStyle_calendar_date_total__3KnKD"}},43:function(e,t,n){e.exports={container:"HeaderStyle_container__2u5Ic",user_content:"HeaderStyle_user_content__3LLWk",user_email:"HeaderStyle_user_email__71Yfg",caret_down:"HeaderStyle_caret_down__1hFpQ",dropdown_content:"HeaderStyle_dropdown_content__1bcbl",dropdown:"HeaderStyle_dropdown__3crcX",page_title:"HeaderStyle_page_title__2e8fm"}},44:function(e,t,n){e.exports={container:"DailyStyle_container__3PY1L",table:"DailyStyle_table__2sRZs",table_container:"DailyStyle_table_container__1G-bw",content_row:"DailyStyle_content_row__mu5l5",date_content:"DailyStyle_date_content__2b-Bh",date:"DailyStyle_date__1kkoc",date_year:"DailyStyle_date_year__1DnNf",date_day:"DailyStyle_date_day__J4cpO",date_day_select:"DailyStyle_date_day_select__1rXBH",income:"DailyStyle_income__2b77_",expense:"DailyStyle_expense__14LKa",category:"DailyStyle_category__1EAAU"}},57:function(e,t,n){e.exports={container:"WeeklyStyle_container__u9tEC",table:"WeeklyStyle_table__gOOtH",date_container:"WeeklyStyle_date_container__2Gjfu",date:"WeeklyStyle_date__1SmFe",selected_date:"WeeklyStyle_selected_date__5wDsD",income:"WeeklyStyle_income__1stx5",expense:"WeeklyStyle_expense__2ANUC",info_row:"WeeklyStyle_info_row__1qZls",info_title:"WeeklyStyle_info_title__hKycy",total:"WeeklyStyle_total__1Jbu8"}},58:function(e,t,n){e.exports={container:"YearlyStyle_container__Mc94Q",table:"YearlyStyle_table__1FNxS",content_row:"YearlyStyle_content_row__36DY9",month_content:"YearlyStyle_month_content__1dttB",month:"YearlyStyle_month__3eddc",month_selected:"YearlyStyle_month_selected__11bWn",income:"YearlyStyle_income__2MeHX",expense:"YearlyStyle_expense__3ykWq"}},62:function(e,t,n){},67:function(e,t,n){e.exports={title:"TotalStyle_title__1S9so",account_container:"TotalStyle_account_container__2-yzU",name:"TotalStyle_name__1kO2W"}},68:function(e,t,n){e.exports={income:"InfoTableHeadStyle_income__10Lhe",expense:"InfoTableHeadStyle_expense__262Jh",total:"InfoTableHeadStyle_total__2gZlf"}}},[[270,1,2]]]);
//# sourceMappingURL=main.a5c779a6.chunk.js.map